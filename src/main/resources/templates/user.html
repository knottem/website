<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
   <title>User</title>
   <link rel="stylesheet" href="styles/default.css">
    <style>
        .buttonLogout {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
<!-- Use a container to center the content and add some padding -->
<div class="container">
    <h1>User Information</h1>
    <p>User ID: <span th:text="${user.id}"></span></p>
    <p>Username: <span th:text="${user.username}"></span></p>
    <p>Email: <span th:text="${user.email}"></span></p>
    <p>Password: <span th:text="${user.password}"></span></p>
    <p>Du skapade kontot: <span th:text="${user.create_time}"></span></p>
    <!-- Use a div element to conditionally display the addresses section -->
    <div th:if="${addresses != null and addresses.size() > 0}">
        <h2>Adresser</h2>
        <table>
            <tr>
                <th>Gatuadress</th>
                <th>Gatunummer</th>
                <th>Postnummer</th>
                <th>Post address</th>
                <th>Stad</th>
                <th>Land</th>
            </tr>
            <!-- Use a tr element to iterate over the addresses and display each address in a row -->
            <tr th:each="address : ${addresses}">
                <td th:text="${address.gatuadress}"></td>
                <td th:text="${address.gatunummer}"></td>
                <td th:text="${address.postnr}"></td>
                <td th:text="${address.postadress}"></td>
                <td th:text="${address.stad}"></td>
                <td th:text="${address.land}"></td>
            </tr>
        </table>
    </div>
    <div th:if="${accounts != null and accounts.size() > 0}">
        <div id="row">
            <h2>Konton</h2>
            <form th:if="${user != null}" th:action="@{/createAccount}" method="post">
            <input type="hidden" name="userid" th:value="${user.id}" />
            <button class="button" type="submit">Skapa nytt konto</button>
            </form>
        </div>
        <table>
            <tr>
                <th>Kontonummer</th>
                <th>Saldo</th>
            </tr>
            <!-- Use a tr element to iterate over the addresses and display each address in a row -->
            <tr th:each="account : ${accounts}">
                <td th:text="${account.accountNumber}"></td>
                <td th:text="${account.balance}"></td>
            </tr>
        </table>
    </div>
    <div th:if="${telephones != null and telephones.size() > 0} ">
        <h2>Telefonnummer</h2>
        <table>
            <tr>
                <th>Mobilnummer</th>
                <th>Hemnummer</th>
            </tr>
            <!-- Use a tr element to iterate over the addresses and display each address in a row -->
            <tr th:each="telephone : ${telephones}">
                <td th:text="${telephone.mobilnummer}"></td>
                <td th:text="${telephone.hemnummer}"></td>
            </tr>
        </table>
    </div>
</div>
<p></p>
<div class="text-center">
    <form th:action="@{/logout}" method="post">
        <button class="buttonLogout" type="submit">Logga ut</button>
    </form>
</div>

</body>
</html>